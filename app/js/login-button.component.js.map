{"version":3,"sources":["login-button.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;YASA;gBAMI,YAAoB,KAAW;oBAAX,UAAK,GAAL,KAAK,CAAM;oBAF/B,cAAS,GAAG,KAAK,CAAC;oBAClB,UAAK,GAAG,EAAE,QAAQ,EAAE,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAA;gBAGtC,CAAC;gBACD,KAAK;oBACD,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;gBACvB,CAAC;gBACD,IAAI,CAAC,IAAI;oBACL,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;gBACzB,CAAC;gBAED,QAAQ;oBACJ,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;oBACzB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC5B,CAAC;gBAED,KAAK;oBACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACtC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,uCAAuC,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC;yBACtF,SAAS,CACV,QAAQ;wBACJ,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC;wBACtD,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC;oBAC3D,CAAC,EACD,KAAK;wBACD,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;wBACpB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;oBAC9B,CAAC,CACA,CAAC;gBACV,CAAC;YACL,CAAC;YApCG;gBAAC,gBAAS,CAAC,YAAY,CAAC;;+DAAA;YAN5B;gBAAC,gBAAS,CAAC;oBACP,QAAQ,EAAE,cAAc;oBACxB,WAAW,EAAE,iCAAiC;oBAC9C,UAAU,EAAE,CAAC,gCAAgB,CAAC;iBACjC,CAAC;;oCAAA;YACF,uDAqCC,CAAA","file":"login-button.component.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { MODAL_DIRECTIVES, ModalComponent } from 'ng2-bs3-modal/ng2-bs3-modal';\nimport {Http, Response, Headers} from '@angular/http';\n\n@Component({\n    selector: 'login-button',\n    templateUrl: 'app/login-button.component.html',\n    directives: [MODAL_DIRECTIVES]\n})\nexport class LoginButtonComponent {\n    @ViewChild('loginModal')\n    modal: ModalComponent;\n\n    submitted = false;\n    model = { username: \"\", password: \"\" }\n    constructor(private _http: Http) {\n\n    }\n    close() {\n        this.modal.close();\n    }\n    test(form) {\n        console.log(form);\n        form.ngSubmit.emit();\n    }\n\n    onSubmit() {\n        console.log(\"submitted\");\n        console.log(this.model);\n    }\n\n    login() {\n        this.submitted = true;\n        let body = JSON.stringify(this.modal);\n        this._http.post('http://localhost:3001/sessions/create', body, { headers: contentHeaders })\n            .subscribe(\n            response => {\n                localStorage.setItem('jwt', response.json().id_token);\n                localStorage.setItem('userId', response.json().userId);\n            },\n            error => {\n                alert(error.text());\n                console.log(error.text());\n            }\n            );\n    }\n}"],"sourceRoot":"/source/"}