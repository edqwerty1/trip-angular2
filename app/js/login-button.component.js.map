<<<<<<< HEAD
{"version":3,"sources":["login-button.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;YASA;gBAMI,YAAoB,KAAW;oBAAX,UAAK,GAAL,KAAK,CAAM;oBAF/B,cAAS,GAAG,KAAK,CAAC;oBAClB,UAAK,GAAG,EAAE,QAAQ,EAAE,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAA;gBAGtC,CAAC;gBACD,KAAK;oBACD,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;gBACvB,CAAC;gBACD,IAAI,CAAC,IAAI;oBACL,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;gBACzB,CAAC;gBAED,QAAQ;oBACJ,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;oBACzB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC5B,CAAC;gBAED,KAAK;oBACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACtC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,uCAAuC,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC;yBACtF,SAAS,CACV,QAAQ;wBACJ,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC;wBACtD,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC;oBAC3D,CAAC,EACD,KAAK;wBACD,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;wBACpB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;oBAC9B,CAAC,CACA,CAAC;gBACV,CAAC;YACL,CAAC;YApCG;gBAAC,gBAAS,CAAC,YAAY,CAAC;;+DAAA;YAN5B;gBAAC,gBAAS,CAAC;oBACP,QAAQ,EAAE,cAAc;oBACxB,WAAW,EAAE,iCAAiC;oBAC9C,UAAU,EAAE,CAAC,gCAAgB,CAAC;iBACjC,CAAC;;oCAAA;YACF,uDAqCC,CAAA","file":"login-button.component.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { MODAL_DIRECTIVES, ModalComponent } from 'ng2-bs3-modal/ng2-bs3-modal';\nimport {Http, Response, Headers} from '@angular/http';\n\n@Component({\n    selector: 'login-button',\n    templateUrl: 'app/login-button.component.html',\n    directives: [MODAL_DIRECTIVES]\n})\nexport class LoginButtonComponent {\n    @ViewChild('loginModal')\n    modal: ModalComponent;\n\n    submitted = false;\n    model = { username: \"\", password: \"\" }\n    constructor(private _http: Http) {\n\n    }\n    close() {\n        this.modal.close();\n    }\n    test(form) {\n        console.log(form);\n        form.ngSubmit.emit();\n    }\n\n    onSubmit() {\n        console.log(\"submitted\");\n        console.log(this.model);\n    }\n\n    login() {\n        this.submitted = true;\n        let body = JSON.stringify(this.modal);\n        this._http.post('http://localhost:3001/sessions/create', body, { headers: contentHeaders })\n            .subscribe(\n            response => {\n                localStorage.setItem('jwt', response.json().id_token);\n                localStorage.setItem('userId', response.json().userId);\n            },\n            error => {\n                alert(error.text());\n                console.log(error.text());\n            }\n            );\n    }\n}"],"sourceRoot":"/source/"}
=======
{"version":3,"sources":["login-button.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAUA;gBAMI,YAAoB,KAAW,EAAU,YAAyB;oBAA9C,UAAK,GAAL,KAAK,CAAM;oBAAU,iBAAY,GAAZ,YAAY,CAAa;oBAHlE,cAAS,GAAG,KAAK,CAAC;oBAId,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;wBAC1C,UAAU,EAAE,CAAC,EAAE,EAAE,mBAAU,CAAC,QAAQ,CAAC;wBACrC,UAAU,EAAE,CAAC,EAAE,EAAE,mBAAU,CAAC,QAAQ,CAAC;qBACxC,CAAC,CAAC;gBACP,CAAC;gBAED,KAAK;oBACD,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;gBACvB,CAAC;gBAED,QAAQ;oBACJ,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;oBAClC,GAAG,CAAC,CAAC,IAAI,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC;wBAC/C,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,CAAC;oBACxD,CAAC;oBAAA,CAAC;oBAEF,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;wBACzD,IAAI,CAAC,KAAK,EAAE,CAAC;wBACb,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;oBACvB,CAAC;gBACL,CAAC;gBAED,KAAK;oBACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;oBAC9H,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0CAA0C,EAAE,IAAI,CAAC;yBAC5D,GAAG,CAAC,CAAC,GAAa,KAAK,GAAG,CAAC,IAAI,EAAE,CAAC;yBAClC,SAAS,CAAC,QAAQ;wBACf,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;oBAChD,CAAC,EACD,KAAK;wBACD,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;wBACpB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;oBAC9B,CAAC,CAAC,CAAC;gBACX,CAAC;YACL,CAAC;YAzCG;gBAAC,gBAAS,CAAC,YAAY,CAAC;;+DAAA;YAN5B;gBAAC,gBAAS,CAAC;oBACP,QAAQ,EAAE,cAAc;oBACxB,WAAW,EAAE,iCAAiC;oBAC9C,UAAU,EAAE,CAAC,gCAAgB,CAAC;iBACjC,CAAC;;oCAAA;YACF,uDA0CC,CAAA","file":"login-button.component.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\r\nimport { MODAL_DIRECTIVES, ModalComponent } from 'ng2-bs3-modal/ng2-bs3-modal';\r\nimport {Http, Response, Headers} from '@angular/http';\r\nimport { FormBuilder, Validators } from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'login-button',\r\n    templateUrl: 'app/login-button.component.html',\r\n    directives: [MODAL_DIRECTIVES]\r\n})\r\nexport class LoginButtonComponent {\r\n    @ViewChild('loginModal')\r\n    modal: ModalComponent;\r\n    submitted = false;\r\n    loginFormModel: any;\r\n\r\n    constructor(private _http: Http, private _formBuilder: FormBuilder) {\r\n        this.loginFormModel = this._formBuilder.group({\r\n            'username': ['', Validators.required],\r\n            'password': ['', Validators.required]\r\n        });\r\n    }\r\n\r\n    close() {\r\n        this.modal.close();\r\n    }\r\n\r\n    onSubmit() {\r\n        this.loginFormModel.markAsDirty();\r\n        for (let control in this.loginFormModel.controls) {\r\n            this.loginFormModel.controls[control].markAsDirty();\r\n        };\r\n\r\n        if (this.loginFormModel.dirty && this.loginFormModel.valid) {\r\n            this.login();\r\n            this.modal.close();\r\n        }\r\n    }\r\n\r\n    login() {\r\n        this.submitted = true;\r\n        let body = JSON.stringify({ \"username\": this.loginFormModel.value.username, \"password\": this.loginFormModel.value.password });\r\n        this._http.post('http://localhost:8080/api/session/create', body)\r\n            .map((res: Response) => res.json())\r\n            .subscribe(response => {\r\n                localStorage.setItem('jwt', response.token);\r\n            },\r\n            error => {\r\n                alert(error.text());\r\n                console.log(error.text());\r\n            });\r\n    }\r\n}"],"sourceRoot":"/source/"}
>>>>>>> d6f2db769c02cc981c05b70e2d9d2cdbd41aeef6
